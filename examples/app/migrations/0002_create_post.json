{
  "$schema": "https://raw.githubusercontent.com/dev-five-git/vespertide/refs/heads/main/schemas/migration.schema.json",
  "actions": [
    {
      "column": "aa",
      "table": "user",
      "type": "delete_column"
    },
    {
      "column": {
        "comment": null,
        "default": null,
        "foreign_key": null,
        "index": null,
        "name": "id",
        "nullable": false,
        "primary_key": true,
        "type": "integer",
        "unique": null
      },
      "fill_with": null,
      "table": "user",
      "type": "add_column"
    },
    {
      "column": {
        "comment": null,
        "default": null,
        "foreign_key": null,
        "index": null,
        "name": "email",
        "nullable": false,
        "primary_key": null,
        "type": "text",
        "unique": true
      },
      "fill_with": null,
      "table": "user",
      "type": "add_column"
    },
    {
      "column": {
        "comment": null,
        "default": null,
        "foreign_key": null,
        "index": null,
        "name": "name",
        "nullable": false,
        "primary_key": null,
        "type": "text",
        "unique": null
      },
      "fill_with": null,
      "table": "user",
      "type": "add_column"
    },
    {
      "constraint": {
        "auto_increment": false,
        "columns": [
          "id"
        ],
        "type": "primary_key"
      },
      "table": "user",
      "type": "add_constraint"
    },
    {
      "constraint": {
        "columns": [
          "email"
        ],
        "name": null,
        "type": "unique"
      },
      "table": "user",
      "type": "add_constraint"
    },
    {
      "columns": [
        {
          "comment": null,
          "default": null,
          "foreign_key": null,
          "index": null,
          "name": "id",
          "nullable": false,
          "primary_key": true,
          "type": "integer",
          "unique": null
        },
        {
          "comment": null,
          "default": null,
          "foreign_key": null,
          "index": null,
          "name": "title",
          "nullable": false,
          "primary_key": null,
          "type": "text",
          "unique": null
        },
        {
          "comment": null,
          "default": null,
          "foreign_key": null,
          "index": null,
          "name": "content",
          "nullable": false,
          "primary_key": null,
          "type": "text",
          "unique": null
        },
        {
          "comment": null,
          "default": null,
          "foreign_key": null,
          "index": null,
          "name": "created_at",
          "nullable": false,
          "primary_key": null,
          "type": "timestamp",
          "unique": null
        },
        {
          "comment": null,
          "default": null,
          "foreign_key": null,
          "index": [
            "tuple",
            "tuple2"
          ],
          "name": "updated_at",
          "nullable": true,
          "primary_key": null,
          "type": "timestamp",
          "unique": null
        },
        {
          "comment": null,
          "default": null,
          "foreign_key": {
            "on_delete": null,
            "on_update": null,
            "ref_columns": [
              "id"
            ],
            "ref_table": "user"
          },
          "index": [
            "tuple",
            "tuple2"
          ],
          "name": "user_id",
          "nullable": false,
          "primary_key": null,
          "type": "integer",
          "unique": null
        }
      ],
      "constraints": [
        {
          "auto_increment": false,
          "columns": [
            "id"
          ],
          "type": "primary_key"
        },
        {
          "columns": [
            "user_id"
          ],
          "name": null,
          "on_delete": null,
          "on_update": null,
          "ref_columns": [
            "id"
          ],
          "ref_table": "user",
          "type": "foreign_key"
        }
      ],
      "table": "post",
      "type": "create_table"
    },
    {
      "index": {
        "columns": [
          "updated_at",
          "user_id"
        ],
        "name": "tuple",
        "unique": false
      },
      "table": "post",
      "type": "add_index"
    },
    {
      "index": {
        "columns": [
          "updated_at",
          "user_id"
        ],
        "name": "tuple2",
        "unique": false
      },
      "table": "post",
      "type": "add_index"
    }
  ],
  "comment": "Create post",
  "created_at": "2025-12-15T06:14:50Z",
  "version": 2
}