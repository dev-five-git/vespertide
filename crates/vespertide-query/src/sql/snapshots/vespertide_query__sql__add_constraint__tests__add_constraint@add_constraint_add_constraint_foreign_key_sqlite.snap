---
source: crates/vespertide-query/src/sql/add_constraint.rs
expression: "result.iter().map(|q| q.build(backend)).collect::<Vec<String>>().join(\"\\n\")"
---
CREATE TABLE "users_temp" ( "id" integer NOT NULL, "user_id" integer, FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE RESTRICT )
INSERT INTO "users_temp" ("id", "user_id") SELECT "id", "user_id" FROM "users"
DROP TABLE "users"
ALTER TABLE "users_temp" RENAME TO "users"
